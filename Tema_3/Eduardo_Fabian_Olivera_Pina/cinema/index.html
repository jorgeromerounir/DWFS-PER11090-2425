<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNIR-Cinema</title>
    <link rel="stylesheet" href="styles.css">
    <script src="cinema.js" defer></script> <!-- defer: ejecuta el script despues que complete la carga del HTML-->
</head>

<body>
    <div class="contenedor">
        <h1 class="titulo-ppal">UNIR-CINEMA</h1>    
    </div>

    <div class="espacio-gris"></div>
    
    <div class="contenedor-gris">
        <!-- Mapa de asientos -->
        <div class="seat-map-container">
            <h2>Reserva de Asientos</h2>
            <div class="seat-map">
                <!-- Fila 1 -->
                <div class="row">
                    <span>Fila 1</span>
                    <div id="r1" class="seat"></div>
                    <div id="r2" class="seat"></div>
                    <div id="r3" class="seat"></div>
                    <div id="r4" class="seat"></div>
                    <div id="r5" class="seat"></div>
                    <div id="r6" class="seat"></div>
                </div>
                <!-- Fila 2 -->
                <div class="row">
                    <span>Fila 2</span>
                    <div id="r7" class="seat"></div>
                    <div id="r8" class="seat"></div>
                    <div id="r9" class="seat"></div>
                    <div id="r10" class="seat"></div>
                    <div id="r11" class="seat"></div>
                    <div id="r12" class="seat"></div>
                </div>
                <!-- Fila 3 -->
                <div class="row">
                    <span>Fila 3</span>
                    <div id="r13" class="seat"></div>
                    <div id="r14" class="seat"></div>
                    <div id="r15" class="seat"></div>
                    <div id="r16" class="seat"></div>
                    <div id="r17" class="seat"></div>
                    <div id="r18" class="seat"></div>
                </div>
                <!-- Fila 4 -->
                <div class="row">
                    <span>Fila 4</span>
                    <div id="r19" class="seat"></div>
                    <div id="r20" class="seat"></div>
                    <div id="r21" class="seat"></div>
                    <div id="r22" class="seat"></div>
                    <div id="r23" class="seat"></div>
                    <div id="r24" class="seat"></div>
                </div>
                <!-- Fila 5 -->
                <div class="row">
                    <span>Fila 5</span>
                    <div id="r25" class="seat"></div>
                    <div id="r26" class="seat"></div>
                    <div id="r27" class="seat"></div>
                    <div id="r28" class="seat"></div>
                    <div id="r29" class="seat"></div>
                    <div id="r30" class="seat"></div>
                </div>
                <!-- Fila 6 -->
                <div class="row">
                    <span>Fila 6</span>
                    <div id="r31" class="seat"></div>
                    <div id="r32" class="seat"></div>
                    <div id="r33" class="seat"></div>
                    <div id="r34" class="seat"></div>
                    <div id="r35" class="seat"></div>
                    <div id="r36" class="seat"></div>
                </div>

                <!-- Formulario de reserva -->
                <div class="reserve-form">
                    <label for="num-seats">Indica cuántos asientos quieres reservar:</label>
                    <input type="number" id="num-seats" oninput="onImputNumSeats(this.value)" min="1" placeholder="0">
                    <button onclick="confirmReservation()">Confirmar Reserva</button>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; Todos los derechos reservados</p>
    </footer>        
    

    <script>
        // Me aseguro que el script corre cuando todo el contenido del DOM está cargado
        document.addEventListener("DOMContentLoaded", function() {
            seats = setup();
            /*confirmReservation(seats, 32);
            reserveSeat(seats, 26);
            reserveSeat(seats, 20);
            reserveSeat(seats, 14);
            reserveSeat(seats, 8);
            reserveSeat(seats, 2);
            */        
           }
        );
    </script>

    <script>
        function onImputNumSeats(value) {
            const freeSeats = suggest(seats, Number(value));
            let str = "";
            freeSeats.forEach(e => {
                str += e + ",";
            });
            console.log(str);
        }  
    </script>    
</body>

</html>
